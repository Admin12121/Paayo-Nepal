# ==========================================================================
# Paayo Nepal - Environment Variables
#
# Copy this file to `.env` and fill in secure values for production.
#
#   cp .env.example .env
#
# For production:
# - use strong unique secrets/passwords
# - keep .env out of version control
# - set APP_DOMAIN and public URLs to your real domain
# ==========================================================================

# --------------------------------------------------------------------------
# PostgreSQL
# --------------------------------------------------------------------------
DATABASE_NAME=tourism
DATABASE_USER=tourism
DATABASE_PASSWORD=tourism_dev_password
# URL-encoded DATABASE_PASSWORD for connection strings when password has
# special characters like @, #, >, etc.
# Example plain: tourism>_@#12
# Example encoded: tourism%3E_%40%2312
DATABASE_PASSWORD_URLENC=tourism_dev_password
# Host port for local profile (ignored in prod)
POSTGRES_PORT=5432

# --------------------------------------------------------------------------
# Redis
# --------------------------------------------------------------------------
REDIS_PASSWORD=redis_dev_password
# URL-encoded REDIS_PASSWORD for redis:// URLs when password has special chars.
REDIS_PASSWORD_URLENC=redis_dev_password
REDIS_MAX_MEMORY=256mb
# Host port for local profile (ignored in prod)
REDIS_PORT=6379

# --------------------------------------------------------------------------
# Backend (Rust / Axum)
# --------------------------------------------------------------------------
# Compose can build URLs from the fields above, but explicit URLs are clearer.
DATABASE_URL=postgresql://tourism:tourism_dev_password@postgres:5432/tourism
REDIS_URL=redis://:redis_dev_password@redis:6379

DATABASE_MAX_CONNECTIONS=20
DATABASE_MIN_CONNECTIONS=5
MAX_UPLOAD_SIZE=52428800
MAX_IMAGE_WIDTH=1920
THUMBNAIL_WIDTH=400

# CORS - comma-separated origins
CORS_ALLOWED_ORIGINS=https://paayonepal.com,https://www.paayonepal.com

# Admin seed account (created on first startup)
ADMIN_EMAIL=admin@paayonepal.com
ADMIN_PASSWORD=change_this_in_production
ADMIN_NAME=Admin

# Long random string (>=32 chars)
VIEWER_HASH_SALT=dev-salt-change-in-production-32ch

# Logging filter
RUST_LOG=tour_backend=info,tower_http=warn,sqlx=warn

# --------------------------------------------------------------------------
# Frontend (Next.js / BetterAuth)
# --------------------------------------------------------------------------
APP_DOMAIN=paayonepal.com
APP_PUBLIC_ORIGIN=https://paayonepal.com
NEXT_PUBLIC_APP_URL=https://paayonepal.com
NEXT_PUBLIC_API_BASE_URL=/api
BETTER_AUTH_URL=https://paayonepal.com
PASSKEY_ORIGIN=https://paayonepal.com
NEXT_PUBLIC_CONTACT_EMAIL=info@paayonepal.com

BETTER_AUTH_SECRET=change_this_to_a_secure_32_char_secret
PASSKEY_RP_ID=paayonepal.com

# Optional OAuth
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# SMTP (required for password reset / auth emails in production)
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SMTP_FROM=no-reply@paayonepal.com
SMTP_REPLY_TO=info@paayonepal.com

# --------------------------------------------------------------------------
# Nginx
# --------------------------------------------------------------------------
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# --------------------------------------------------------------------------
# Optional host-level monitoring alerts
# --------------------------------------------------------------------------
ALERT_EMAIL=info@paayonepal.com
ALERT_CPU_THRESHOLD=90
ALERT_MEM_THRESHOLD=90
ALERT_DISK_THRESHOLD=90

# --------------------------------------------------------------------------
# MySQL (not used by current stack; kept only for compatibility)
# --------------------------------------------------------------------------
MYSQL_ROOT_PASSWORD=
MYSQL_EXPOSE_PORT=127.0.0.1:3306
